(function(){var b=true,a=1,O=0,md="\\$\\{[^}]*\\}",uc="[=a-z][a-z0-9]*",xd="\\{\\{(?:"+uc+"[\\s\\S]*?|/"+uc+"\\s*)\\}\\}",vc=new RegExp("(?="+md+"|"+xd+")","gi"),yd=new RegExp("^\\{\\{(/?)(=|[a-z][a-z0-9]*)([\\s\\S]*)\\}\\}","i"),sc="[a-z_$]\\w*",Rc=new RegExp("^\\s*(?:\\(\\s*("+sc+")\\s*(?:,\\s*("+sc+")\\s*)?\\)\\s*)?(\\S(?:[\\s\\S]*\\S)?)\\s*$","i"),zb=new RegExp("^\\s*(?:\\(([\\s\\S]*)\\)\\s*)?([^\\s()](?:[^()]*[^\\s()])?)\\s*$"),Dc="$index",zc="$value",X="templatePlugins",w="templates",Xc="template",gd="tmpl",Vb={each:a,"if":a,wrap:a};function Wc(c){var b={};$.each(c.split(vc),function(e,d){var c;if(c=d.match(/^\{\{\/([a-z][a-z0-9]*)[\s\S]*\}\}/i))b[c[1]]=a});return b}function rd(f,h){var g=["",""],d=[g],c=g,e=0;$.each(f.replace(/\{#[\s\S]*?#\}/g,"").replace(/\{\{!?|\}\}|(?:[^{}]|\{(?!\{)|\}(?!\}))+/g,function(a){if(a==="{{!"){++e;return""}else if(e){if(a==="}}")--e;else if(a==="{{")++e;return""}else return a}).split(vc),function(p,g){var e=g.match(yd);if(e){if(e[1]){if(b&&c[0]!==e[2])throw new Error("Misplaced "+g+" in "+f);c=d[--d.length-1]}else{var k=[e[2],e[3]];if(b)if(e[2]==="=")try{Function("("+e[3]+")")}catch(m){throw new Error("Invalid template substitution: "+e[3]);}else if(e[2]==="tmpl"){var i=e[3].match(zb);try{Function("(["+i[1]+"])");Function("("+i[2]+")")}catch(n){throw new Error("Invalid {{"+e[2]+"}} content: "+e[3]);}}c.push(k);h[e[2]]===a&&d.push(c=k)}g=g.substring(e[0].length)}else if(g.substring(0,2)==="${"){var l=g.indexOf("}");c.push(["=",g.substring(2,l)]);if(b){var j=c[c.length-1][1];try{Function("("+j+")")}catch(o){throw new Error("Invalid template substitution: "+j);}}g=g.substring(l+1)}g&&c.push(g)});if(b&&d.length>1)throw new Error("Unclosed block directives "+d.slice(1).map(function(a){return a[0]})+" in "+f);return g}function mb(d,c){var b=[];(function e(h,d){if("string"!==typeof d){var f=d[0],g=d.length;if(f==="="&&!/\}/.test(d[1]))b.push("${",d[1],"}");else{f&&b.push("{{",f,d[1],"}}");$.each(d.slice(2),e);f&&(g!==2||!c||c[f]===a)&&b.push("{{/",f,"}}")}}else b.push(d.replace(/\{([\{#])/,"{{##}$1"))})(2,d);return b.join("")}var Eb="extAll";$[Eb]=function(d){for(var e=arguments,c,b,a=1;a<e.length;++a)for(b in c=e[a])d[b]=c[b];return d};function ed(i){var g="$$tmplVar",e=0,c=["var "+g+"0;$item=$item||{};with($data=$."+Eb+"(Object.create?Object.create(null):{},$data||{})){return("],f=[],d;$.each(i.slice(2),function h(z,i){d&&c.push("+");var k;if("string"===typeof i)c.push(nc(i));else{var q=i[0],m=i[1],t=i.length,j=g+e;if(q==="="){!d&&c.push("''+");var v="",w="";m=m.replace(/(=>[\w.$\[\]]+)+$/,function(a){a=a.split("=>");w=(new Array(a.length)).join(")");v=a.reverse().join("(");return""});c.push("(",j,"=(",m,"),",v,"'function'!==typeof ",j,"?",j,":",j,".call(null,arguments))",w)}else if(q==="if"){for(var l=2,n,o,p=d=a;p;l=n+1){n=t;for(o=l;o<n;++o)if(i[o][0]==="else")n=o;var x=l<t?(l===2?i:i[l-1])[1]:"";p=/\S/.test(x);if(b&&!p)if(l===2)throw new Error("{{if}} missing condition:"+mb(i,{}));else if(n!==t)throw new Error("{{else}} without condition must be last:"+mb(i,{}));c.push(d?"":"''",l===2?"((":"):(",x,p?")?(":"");d=O;$.each(i.slice(l,n),h)}c.push(d?"))":"''))")}else if(q==="each"){k=m.match(Rc);if(b&&!k)throw new Error("Malformed {{each}} content: "+m);var s=k[1]||Dc,r=k[2]||zc,y=k[3];++e;c.push("(",j,"=[],$.each((",y,"),function(",s,",",r,"){var ",g,e,";",j,".push(");d=O;f.push(s+":"+s,r+":"+r);$.each(i.slice(2),h);f.length-=2;!d&&c.push("''");c.push(")}),",j,".join(''))");--e}else if(q==="tmpl"){k=m.match(zb);if(b&&!k)throw new Error("Malformed {{tmpl}} content: "+m);var u=k[1];c.push("(",j,"=",u?"$.extend([],arguments,["+u+"])":f.length?"[$."+Eb+"({},$data,{"+f+"}),$item]":"arguments",",$.template((",k[2],")).tmpl(",j,"[0],",j,"[1]))")}else if(b)throw new Error("I do not know how to compile "+mb(i,Vb));}d=a});c.push(d?")}":"'')}");if(b)try{return Function("$data","$item",c.join(""))}catch(j){throw new Error(c.join(""));}else return Function("$data","$item",c.join(""))}var Yb=false;$[X]=[];function rc(b){var a=$[w][b];return a&&"function"!==typeof a[gd]}function mc(c,f){var b={};$.each(c,function g(d,e){if(b[d]!==a){b[d]=a;$.each(e,function(h,e){if(e[0]==="tmpl"||e[0]==="wrap"){var f=e[1].match(zb);if(f){var d=Function("return "+f[2])();rc(d)&&b[d]!==a&&g(d,c[d]=$[w][d])}}})}});function d(a){return function(c){for(var b=0;b<a;++b)c=$[X][b](c,d(b));return c}}var e;$.each(d($[X].length)(c),function(a,c){var b={tmpl:ed(c)};if(a!==f)$[w][a]=b;else e=b});return e}$[w]={};$[Xc]=function zd(a,d){if(Yb)return $[w][a];var c=$[w],b;if(arguments.length===1){if(a.indexOf("<")+1)return zd(null,a);if(rc(a)){b={};b[a]=c[a];mc(b)}return c[a]}var e=rd(d,$.extend(Wc(d),Vb));if(a===null)return mc(b={_:e},"_");c[a]=e};var dc={"&":"&amp;","<":"&lt;",">":"&gt;"};function ld(a){return dc[a]||(dc[a]="&#"+a.charCodeAt(0)+";")}var jc={"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};function sd(b){var a;return jc[b]||(a=b.charCodeAt(0).toString(16),jc[b]="\\u0000".substring(0,6-a.length)+a)}var id=/[\x00"&'<>]/g,qd=/[\x00\x08-\x0d"&'\/<->\\\x85\u2028\u2029]/g;function N(a){return a===undefined?"":String(a).replace(id,ld)}function nc(a){return"'"+String(a).replace(qd,sd)+"'"}var cd="encode";$[cd]=N;var j=0,n=1,W=2,G=3,g=4,E=5,R=6,fb=7,T=8,f=9,Hb=10,cb=11,db=12,qb=13,kb=14,lb=15,k=16,Ab=17,yb=18,gb=19,hb=20,ob=21,rb=22,e=23,A=31;function l(a){return a&A}function nb(a){return l(a)===e}var Bd=0,Db=1<<5,Fb=2<<5,ab=3<<5,eb=4<<5,Cb=5<<5,jb=6<<5,F=7<<5,cc=7<<5;function h(a){return a&cc}var nd=0,Ib=1<<8,Kb=2<<8,pb=3<<8,Bb=4<<8,lc=7<<8;function L(a){return a&lc}var fc=0,wb=1<<11,xb=2<<11,m=3<<11,hc=3<<11;function K(a){return a&hc}var Zb=0,t=1<<13,Z=2<<13,Sb=3<<13,o=3<<13;function Gb(a){return a&o}var pc=0,J=1<<15,ib=2<<15,Lb=3<<15,x=4<<15,ub=5<<15,z=6<<15,r=7<<15;function B(a){return a&r}var M={};M[wb]='"';M[xb]="'";M[m]="";var v=0,U=1,s=2,C=3,Q=4,S=5,Y=6,Xb=7,Wb=8,V=9,Ub=10,bb=11,u=12,tb=13,Ad=14,i=[];i[v]=a;i[U]=a;i[s]=a;i[C]=a;i[Q]=a;i[S]=a;i[V]=a;i[bb]=a;var q=0,vb=1,H=2,D=[];D[v]=q;D[Y]=vb;D[u]=H;D[bb]=H;D[tb]=H;var c=[];c[j]=v;c[n]=U;c[W]=Q;c[G]=Q;c[g]=S;c[E]=S;c[fb]=U;c[T]=s;c[f]=Ub;c[cb]=V;c[db]=V;c[qb]=u;c[kb]=u;c[lb]=u;c[k]=Xb;c[gb]=Y;c[hb]=Y;c[ob]=Wb;c[rb]=s;var y="content",p="contentKind";function ec(){}ec.prototype.toString=function(){return this[y]};function sb(){function a(a){this[y]=a}var b=a.prototype=new ec;b.constructor=a;b[p]=q;return a}var td=sb(q),bd=sb(vb),ud=sb(H);window.SanitizedHtml=td;window.SanitizedJsStrChars=bd;window.SanitizedUri=ud;function N(a){return a&&a[p]===q?a:a instanceof Array?a.map(N).join(""):a===void 0?"":Jb(a)}function fd(a){return a&&a[p]===q?bc(a[y]):Jb(a)}function oc(a){return String(a).replace(jd,"")}function Yc(a){return a&&a[p]===q?bc(oc(a[y])):Jb(a)}function Lc(a){return a&&a[p]===q?Mc(oc(a[y])):Pc(a)}function ad(d){var a=Nc(d),c,b=a.indexOf("=");return b>=0&&(c=a.charAt(a.length-1))!='"'&&c!="'"?a.substring(0,b+1)+'"'+a.substring(b+1)+'"':a}function Tc(a){return Jc(a)}function ic(a){return a&&a[p]===vb?a[y]:Uc(a)}function nc(a){var b;return a==null?" null ":(b=typeof a)=="boolean"||b=="number"?" "+a+" ":"'"+ic(a)+"'"}function pd(a){return Zc(a)}var ac=/['()]/g;function tc(a){return"%"+a.charCodeAt(0).toString(16)}function wd(a){if(a&&a[p]===H)return Mb(a);var b=encodeURIComponent(a);return b.replace(ac,tc)}function Mb(a){a=String(a);if(/[\0- "<>\\{}\x7f\x85\xa0\u2028\u2029\uff00-\uffff]|%(?![a-f0-9]{2})/i.test(a)){for(var b=a.split(/(%[a-f0-9]{2}|[#$&+,/:;=?@\[\]])/i),c=b.length-1;c>=0;c-=2)b[c]=encodeURIComponent(b[c]);a=b.join("")}return a.replace(ac,tc)}function dd(b){var a=String(b);return!Ac.test(a)?"#zSafehtmlz":Mb(a)}function hd(a){return Sc(a)}function od(a){return a==null?"":Vc(a)}var Nb={"&":"&amp;","<":"&lt;",">":"&gt;"};function P(a){return Nb[a]||(Nb[a]="&#"+a.charCodeAt(0)+";")}var Ob={"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};function Pb(b){var a;return Ob[b]||(a=b.charCodeAt(0).toString(16),Ob[b]="\\u0000".substring(0,6-a.length)+a)}var Rb={};function Cc(a){return Rb[a]||(Rb[a]="\\"+a.charCodeAt(0).toString(16)+" ")}var Oc=/[\x00"&'<>]/g,Kc=/[\x00"'<>]/g,Bc=/[\x00\x09-\x0d "&'\-\/<->`\x85\xa0\u2028\u2029]/g,xc=/[\x00\x09-\x0d "'\-\/<->`\x85\xa0\u2028\u2029]/g,Fc=/[\x00\x08-\x0d"&'\/<->\\\x85\u2028\u2029]/g,Hc=/[\x00\x08-\x0d"$&-\/:<-?\[-^\x7b-\x7d\x85\u2028\u2029]/g,Ec=/[\x00\x08-\x0d"&-*\/:->@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,Gc=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9][_a-z0-9-]*)(?:-[_a-z][_a-z0-9-]*)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9])(?:[a-z]{1,2}|%)?|!important|)$/i,Ac=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,yc=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*|dir=(?:ltr|rtl))$/i,wc=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i;function Jb(a){var b=String(a);return b.replace(Oc,P)}function bc(a){var b=String(a);return b.replace(Kc,P)}function Pc(a){var b=String(a);return b.replace(Bc,P)}function Mc(a){var b=String(a);return b.replace(xc,P)}function Uc(a){var b=String(a);return b.replace(Fc,Pb)}function Zc(a){var b=String(a);return b.replace(Hc,Pb)}function Sc(a){var b=String(a);return b.replace(Ec,Cc)}function Vc(b){var a=String(b);return!Gc.test(a)?"zSafehtmlz":a}function Nc(b){var a=String(b);return!yc.test(a)?"zSafehtmlz":a}function Jc(b){var a=String(b);return!wc.test(a)?"zSafehtmlz":a}var jd=/<(?:!|\/?[a-z])(?:[^>'"]|"[^"]*"|'[^']*')*>/gi,d=[];d[v]=N;d[U]=fd;d[s]=Yc;d[C]=Lc;d[Q]=Tc;d[S]=ad;d[Y]=ic;d[Xb]=nc;d[Wb]=pd;d[V]=hd;d[Ub]=od;d[bb]=wd;d[u]=Mb;d[tb]=dd;N[v]=$.encode=$.extend(N,d);b&&$.each(d,function(c,a){if(a){var b=a.name;if(!b)b=a.name=(""+a).match(/^function\s+(\w+)/)[0];$.encode[b]=a}});function I(b){var a=[];switch(l(b)){case j:a.push("HTML_PCDATA");break;case n:a.push("HTML_RCDATA");break;case W:a.push("HTML_BEFORE_TAG_NAME");break;case G:a.push("HTML_TAG_NAME");break;case g:a.push("HTML_TAG");break;case E:a.push("HTML_ATTRIBUTE_NAME");break;case R:a.push("HTML_BEFORE_ATTRIBUTE_VALUE");break;case fb:a.push("HTML_COMMENT");break;case T:a.push("HTML_NORMAL_ATTR_VALUE");break;case f:a.push("CSS");break;case Hb:a.push("CSS_COMMENT");break;case cb:a.push("CSS_DQ_STRING");break;case db:a.push("CSS_SQ_STRING");break;case qb:a.push("CSS_URI");break;case kb:a.push("CSS_DQ_URI");break;case lb:a.push("CSS_SQ_URI");break;case k:a.push("JS");break;case Ab:a.push("JS_LINE_COMMENT");break;case yb:a.push("JS_BLOCK_COMMENT");break;case gb:a.push("JS_DQ_STRING");break;case hb:a.push("JS_SQ_STRING");break;case ob:a.push("JS_REGEX");break;case rb:a.push("URI");break;case e:a.push("ERROR")}switch(h(b)){case Db:a.push("SCRIPT");break;case Fb:a.push("STYLE");break;case ab:a.push("TEXTAREA");break;case eb:a.push("TITLE");break;case Cb:a.push("LISTING");break;case jb:a.push("XMP");break;case F:a.push("NORMAL")}switch(L(b)){case Ib:a.push("SCRIPT");break;case Kb:a.push("STYLE");break;case pb:a.push("URI");break;case Bb:a.push("PLAIN_TEXT")}switch(K(b)){case wb:a.push("DOUBLE_QUOTE");break;case xb:a.push("SINGLE_QUOTE");break;case m:a.push("SPACE_OR_TAG_END")}switch(Gb(b)){case t:a.push("REGEX");break;case Z:a.push("DIV_OP");break;case Sb:a.push("UNKNOWN")}switch(B(b)){case J:a.push("START");break;case ib:a.push("PRE_QUERY");break;case Lb:a.push("QUERY");break;case x:a.push("FRAGMENT");break;case ub:a.push("UNKNOWN_PRE_FRAGMENT");break;case z:a.push("UNKNOWN")}return"[Context "+a.join(" ")+"]"}var Qc={"break":a,"case":a,"continue":a,"delete":a,"do":a,"else":a,"finally":a,"instanceof":a,"return":a,"throw":a,"try":a,"typeof":a};function kd(c){var b=c.length,e=c.charAt(b-1);switch(e){case"+":case"-":var d=b-1;while(d>0&&c.charAt(d-1)===e)--d;var h=b-d;return(h&1)===1;case".":if(b===1)return a;var g=c.charAt(b-2);return!("0"<=g&&g<="9");case"/":return b===1;default:if(/[#%&(*,:-?\[^{-~]/.test(e))return a;var f=c.match(/[\w$]+$/);return f&&Qc[f[0]]===a}}function qc(a,b){if(a===b)return a;if(a===(b&~o|Gb(a)))return a&~o|Sb;var f=B(a);if(a===(b&~r|f)){var j=B(b);return a&~r|(f!==x&&j!==x&&f!==z&&j!==z?ub:z)}var c=l(a),d=l(b);if(c>d){var i=a;a=b;b=i;i=c;c=d;d=i}if(c==G&&d==g)return b;if(c===g&&h(a)===h(b))if(d===E||K(b)===m)return a;return e}function Tb(a){var b=l(a);if(b===R)a=Qb(h(a),L(a),m);return a}function Qb(e,b,g){var a,d=Zb,c=pc;switch(b){case Bb:a=T;break;case Ib:a=k;d=t;break;case Kb:a=f;break;case pb:a=rb;c=J;break;default:throw new Error(b);}return a|e|b|g|d|c}var kc=function(){var Mb=this,ub={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};function Jb(a){return a.indexOf("&")<0?a:a.replace(/&(?:#(?:(x[0-9a-f]+)|([0-9]+))|(lt|gt|amp|quot|apos));/gi,function(d,b,a,c){return b||a?String.fromCharCode(0+(b||a)):ub[c.toLowerCase()]})}function vb(a,b){var c=a.length;if(b===fc)return-1;if(b===m){var d=a.match(/[\s>]/);return d?d.index:c}var e=a.indexOf(M[b]);return e>=0?e:c}function d(a){this.pattern=a}d.prototype.isApplicableTo=function(){return a};d.prototype.computeNextContext;function p(c,e,b){var a=c.prototype=new d(/(?!)/);a.constructor=c;a.computeNextContext=e;if(b)a.isApplicableTo=b}function s(a,b){d.call(this,a);this.dest=b}p(s,function(){return this.dest});function w(a,b){d.call(this,a);this.el=b}p(w,function(){return g|this.el});var v={};v[Db]=k|t;v[Fb]=f;v[F]=j;v[Cb]=n;v[ab]=n;v[eb]=n;v[jb]=n;function bb(a){d.call(this,a)}p(bb,function(c){var b=h(c),a=v[b];if(typeof a!=="number")throw new Error(b);return a===n?a|b:a});function U(a){d.call(this,a)}p(U,function(a){return g|h(a)});var Eb={action:a,archive:a,background:a,cite:a,classid:a,codebase:a,data:a,dsync:a,href:a,longdesc:a,src:a,usemap:a};function Y(a){d.call(this,a)}p(Y,function(e,d){var c=d[1].toLowerCase(),b;if("on"===c.substring(0,2))b=Ib;else if("style"===c)b=Kb;else if(Eb[c]===a)b=pb;else b=Bb;return E|h(e)|b});function O(b,a){d.call(this,b);this.delim=a}p(O,function(a){return Qb(h(a),L(a),this.delim)});function i(a,b){d.call(this,a);this.state=b}p(i,function(a){return a&~(r|A)|this.state});function S(a,b){d.call(this,a);this.state=b}p(S,function(a){return a&(cc|lc|hc)|this.state});function tb(a){d.call(this,a)}p(tb,function(a,b){switch(Gb(a)){case Z:return a&~(A|o)|k|t;case t:return a&~(A|o)|ob|Zb;default:throw new Error("Ambiguous / could be a RegExp or division.  Please add parentheses before `"+b[0]+"`");}});function sb(a){d.call(this,a)}p(sb,function(b,a){return b&~o|(kd(a[0])?t:Z)});function q(a){d.call(this,a)}p(q,function(a){return a});var u=new q(/$/),N=new d(/[?#]|$/);N.computeNextContext=function(b,d){var a=B(b);if(a===J)a=ib;if(a!==x){var c=d[0];if("?"===c&&a!==z)a=Lb;else if("#"===c)a=x}return b&~r|a};function V(a){d.call(this,a)}p(V,function(){return g|F},function(a){return L(a)===nd});var D=new V(/<\/script\b/i),y=new V(/<\/style\b/i),H={};H[ab]="textarea";H[eb]="title";H[Cb]="listing";H[jb]="xmp";function X(a){d.call(this,a)}p(X,function(){return g|F},function(b,a){return a[1].toLowerCase()===H[h(b)]});function mb(a){d.call(this,a)}p(mb,function(d,c){var b=c[1],a;if('"'===b)a=kb;else if("'"===b)a=lb;else a=qb;return d&~(A|r)|a|J});function P(a){d.call(this,a)}p(P,function(a){return a&~(A|o)|k|Z});var C="\r\n\u2028\u2029",c=[];c[j]=[new q(/^[^<]+/),new s(/<!--/,fb),new w(/<script(?=[\s>\/]|$)/i,Db),new w(/<style(?=[\s>\/]|$)/i,Fb),new w(/<textarea(?=[\s>\/]|$)/i,ab),new w(/<title(?=[\s>\/]|$)/i,eb),new w(/<xmp(?=[\s>\/]|$)/i,jb),new s(/<\/?/,W)];c[n]=[new X(/<\/(\w+)\b/),u];c[W]=[new s(/^[a-z]+/i,G),new s(/^(?=[^a-z])/i,j)];c[G]=[new q(/^[a-z0-9:-]*(?:[a-z0-9]|$)/i),new w(/^(?=[\/\s>])/,F)];c[g]=[new Y(/^\s*([a-z][\w-]*)/i),new bb(/^\s*\/?>/),new q(/^\s+$/)];c[E]=[new i(/^\s*=/,R),new U(/^/)];c[R]=[new O(/^\s*"/,wb),new O(/^\s*'/,xb),new O(/^(?=[^"'\s>])/,m),new U(/^(?=>|\s+[\w-]+\s*=)/),new q(/^\s+/)];c[fb]=[new s(/-->/,j),u];c[T]=[u];c[f]=[new i(/\/\*/,Hb),new i(/"/,cb),new i(/'/,db),new mb(/\burl\s*\(\s*(["']?)/i),y,u];c[Hb]=[new i(/\*\//,f),y,u];c[cb]=[new i(/"/,f),new q(/\\(?:\r\n?|[\n\f"])/),new s(/[\n\r\f]/,e),y,u];c[db]=[new i(/'/,f),new q(/\\(?:\r\n?|[\n\f'])/),new s(/[\n\r\f]/,e),y,u];c[qb]=[new i(/[\\)\s]/,f),N,new i(/["']/,e),y];c[lb]=[new i(/'/,f),N,new q(/\\(?:\r\n?|[\n\f'])/),new s(/[\n\r\f]/,e),y];c[kb]=[new i(/"/,f),N,new q(/\\(?:\r\n?|[\n\f"])/),new s(/[\n\r\f]/,e),y];c[k]=[new i(/\/\*/,yb),new i(/\/\//,Ab),new S(/"/,gb),new S(/'/,hb),new tb(/\//),new sb(/(?:[^<\/"'\s\\]|<(?!\/script))+/i),new q(/\s+/),D];c[yb]=[new i(/\*\//,k),D,u];c[Ab]=[new i(new RegExp("["+C+"]"),k),D,u];c[gb]=[new P(/"/),D,new q(new RegExp('^(?:[^"\\\\'+C+"<]|\\\\(?:\\r\\n?|[^\\r<]|<(?!/script))|<(?!/script))+","i"))];c[hb]=[new P(/'/),D,new q(new RegExp("^(?:[^'\\\\"+C+"<]|\\\\(?:\\r\\n?|[^\\r<]|<(?!/script))|<(?!/script))+","i"))];c[ob]=[new P(/\//),D,new q(new RegExp("^(?:[^\\[\\\\/<"+C+"]|\\\\[^"+C+"]|\\\\?<(?!/script)|\\[(?:[^\\]\\\\<"+C+"]|\\\\(?:[^"+C+"]))*|\\\\?<(?!/script)\\])+","i"))];c[rb]=[N];function Q(){this.numCharsConsumed=0;this.next=0}Q.prototype.processNextToken=function(i,a){if(nb(a)){this.numCharsConsumed=i.length;this.next=a;return}for(var n=Infinity,o=-1,h,m,k=c[l(a)],f,d,g,p,q=k.length,j=0;j<q;++j){f=k[j];d=i.match(f.pattern);if(d){g=d.index;if(g<n){p=g+d[0].length;if(f.isApplicableTo(a,d)){n=g;o=p;h=f;m=d}}}}if(h){this.next=h.computeNextContext(a,m);this.numCharsConsumed=o}else{this.next=e;this.numCharsConsumed=i.length}if(!this.numCharsConsumed&&l(this.next)===l(a))throw new Error(b?I(a):a);};function zb(a,b){while(a){var c=vb(a,K(b));if(c===-1){var f=new Q;f.processNextToken(a,b);a=a.substring(f.numCharsConsumed);b=f.next}else{var j=a.length,i=c<j?c+M[K(b)].length:-1,d=Jb(a.substring(0,c)),e=new Q;while(d.length){e.processNextToken(d,b);d=d.substring(e.numCharsConsumed);b=e.next}if(i!==-1){a=a.substring(i);b=g|h(b)}else{if(c!==a.length)throw new Error;a=""}}}return b}return zb}();function Ic(h,g){var b=Tb(h),a=c[l(b)];switch(B(b)){case J:a=tb;b=b&~r|ib;break;case Lb:a=bb;break;case pc:break;case x:case ib:if(L(b)!==pb)a=u;break;default:return e}if(a===void 0)return e;var f=null,d=K(b);if(d!==fc)switch(a){case v:break;case s:if(d===m)a=C;break;case C:break;default:if(!i[a])f=d===m?C:s}g.firstEscMode=a;g.secondEscMode=f;return b}function vd(h){if(b&&typeof h!=="object")throw new Error;var f=Object.hasOwnProperty,c={},w=0;function l(a){if(typeof a==="object"){a.parseTreeNodeId=++w;for(var b=2,c=a.length;b<c;++b)l(a[b])}}for(var e in h)if(f.call(h,e)){var s=h[e];s.jqueryTemplateName=e;l(c[e]=s)}function v(b,e){var a=e?b+"__C"+e:b;if(f.call(c,a))return c[a];else if(f.call(c,b)){var g=c[b],d=gc(g);d.jqueryTemplateName=a;l(d);return c[a]=d}return void 0}var k={escapingModes:{},calleeName:{},outputContext:{}};function n(a){function d(b){function a(){}a.prototype=b;return new a}var c={};for(var b in a)if(f.call(a,b))c[b]=d(a[b]);return c}function u(g,b){for(var d in b)if(f.call(b,d)){var e=b[d],a=g[d];for(var c in a)if(f.call(a,c))e[c]=a[c]}}function m(f,e,c){var g=f.parseTreeNodeId;if(g in c.outputContext)return c.outputContext[g];var a=n(c);a.outputContext[g]=e;var d=p(f,e,a);if(d!==e){a.outputContext[g]=d;a=n(c);var h=p(f,e,a);if(h!==d){var i=f.jqueryTemplateName;if(b)throw new Error("Cannot determine an output context for "+i);else throw new Error;}}u(a,c);return d}function p(d,f,e){var g=d.jqueryTemplateName;function a(a){var b=1;function c(e){if(typeof e==="string"){var j=e.match(/\r\n?|\n/g);if(j)b+=j.length}else{if(e===a){var d=mb(a).replace(/\s+/g," "),h=d.length;if(h>35)d=d.substring(0,16)+"..."+d.substring(h-16);return g+":"+b+":`"+d+"`"}for(var f=1,k=e.length;f<k;++f){var i=c(e[f]);if(i)return i}}return void 0}return c(d)}function c(d,f,s){if(typeof d==="string")if(b)try{return kc(d,f)}catch(G){G.message=G.description=a(s)+": "+(G.message||G.description||"");throw G;}else return kc(d,f);var g=2,l=d.length,F=f,i=d[0];if(i==="html"){d[0]="=";d[1]="new SanitizedHtml("+d[1]+")";d.length=2;f=c(d,f,s)}else if(i==="if"){for(var h=f,C=l;--C>=2;){var o=d[C];if("else"===o[0]){if(""===o[1])h=null;break}}for(;g<=l;++g){var o=d[g];if(g===l||"else"===o[0]){if(h===null)h=f;else{var y=qc(h,f);if(nb(y))if(b)throw new Error(a(d)+": Branch ends in irreconcilable contexts "+I(f)+" and "+I(h));else throw new Error;h=y}f=F}else f=c(o,f,d)}f=h}else if(i==="each")for(var E=2;--E>=0;){var x=f,r;d[0]="";try{r=c(d,f,s);f=qc(x,r)}finally{d[0]="each"}if(nb(f))if(b)throw new Error(a(d)+": Loop ends in irreconcilable contexts "+I(x)+" and "+I(r));else throw new Error;}else if(i==="tmpl"||i==="wrap"){var n=q(d);if(n){if(!/__C\d+$/.test(n)){var t=v(n,f);if(t){e.calleeName[d.parseTreeNodeId]=t.jqueryTemplateName;f=m(t,f,e)}else if(b)typeof console!=="undefined"&&console.warn("Template unavailable to autoescaper %s",n)}}else if(b)throw new Error(a(d)+": Malformed call");else throw new Error;if("wrap"===d[0]){for(var p=j;g<l;++g)p=c(d[g],p,d);if(p!==j)if(b)throw new Error(a(d)+": {{wrap}} does not end in HTML PCDATA context");else throw new Error;}}else if(i==="="){f=Tb(f);var k={},w=Ic(f,k);if(nb(w))if(b){var A=B(f);if(A===z||A===ub)throw new Error(a(d)+": Cannot determine which part of the URL ${...} is in");else throw new Error(a(d)+": Don't put ${...} inside comments");}else throw new Error;var D=/^\s*(?:\$\.encode|noAutoescape)\b/;if(!D.test(d[1]))if(typeof k.firstEscMode==="number"){var u=[];u[0]=k.firstEscMode;if(typeof k.secondEscMode==="number")u[1]=k.secondEscMode;e.escapingModes[d.parseTreeNodeId]=u}f=w}else while(g<l)f=c(d[g++],f,d);return f}return c(d,f)}function q(b){var a=b[1].match(/(?:^|\))\s*("[^)\s]+")\s*$/);return a&&Function("return "+a[1])()}function r(b){var d=b[0];if(d==="tmpl"||d==="wrap"){var c=q(b);if(c&&o(c))return a}for(var e=b.length;--e>=2;)if(r(b[e]))return a;return O}var g={};function o(b){if(f.call(g,b))return g[b];var d=c[b];if(d){for(var e=d.length;--e>=0;)if("noAutoescape"===d[e][0]){g[b]=O;return g[b]=r(d)}return g[b]=a}return void 0}for(var e in c)f.call(c,e)&&o(e);for(var e in g)a===g[e]&&m(c[e],j,k);var i;function t(a){var j=a.parseTreeNodeId;switch(a[0]){case"noAutoescape":i=O;return"";case"=":if(i){var e=k.escapingModes[j];if(e){for(var h=a[1],c=0;c<e.length;++c)h+="=>$.encode"+(b?"."+d[e[c]].name:"["+e[c]+"]");a[1]=h}}break;case"tmpl":case"wrap":var f=k.calleeName[j];if(f)a[1]=a[1].replace(/"[^)\s]*"\s*$/,JSON.stringify(f))}for(var c=2,l=a.length;c<l;++c){var g=a[c];if(typeof g!=="string")a[c]=t(g)}return a}for(var e in c)if(f.call(c,e)){i=a;t(c[e])}return c}function gc(c){for(var a=c.slice(),b=a.length;--b>=0;)if(a[b].push)a[b]=gc(a[b]);return a}!Yb&&$[X].push(vd)})()